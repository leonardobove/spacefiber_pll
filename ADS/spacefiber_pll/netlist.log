; Top Design: "spacefiber_pll_lib:pll_pd:schematic"
; Netlisted using Hierarchy Policy: "Standard_ic"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="spacefiber_pll_lib:pll_pd:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
#uselib "sml" , "ResetSwitch"
ResetSwitch:SWITCH1  N__11 Vpd_filtered 
#uselib "ckt" , "OpAmpIdeal"
OpAmpIdeal:AMP1  Vd N__9 Vd 0 0 Gain=100000 Delay=0 sec 
C:C  0 Vpd_filtered C=102 pF 
V_Source:SRC4  N__11 0 Type="V_DC" Vdc=Vdd/2 SaveCurrent=1 
R:R  Vpd Vpd_filtered R=1 kOhm Noise=yes 
SchmittBuf_L:SchmittBuf_L_3  N__0 V_ref Vhigh=Vdd Vlow=0 

fref=156.25 MHz
f0=5.95 GHz
Vdd=2.5V
StopTime=20 usec
fvco=6.25 GHz
Vref=phaserad(exp(j*2*pi*(f0/N)*time))
delta_f=1.25 MHz
Vref_fin=phaserad(exp(j*2*pi*(fref)*time))
Kv=2 GHz
TimeStep=0.1/fvco
N=40

SRFlipFlop_L:SRFFLa1 V_ref fb N__3 Vpd 0  Vhigh=Vdd Vlow=0 Trise=0.035/fref Tfall=0.035/fref pri=0 
V_Source:SRC2  Vdd 0 Type="V_DC" Vdc=Vdd SaveCurrent=1 
SchmittBuf_L:SchmittBuf_L_2  VCO_div fb Vhigh=Vdd Vlow=0 
Tran:Tran1 StartTime=0 usec StopTime=StopTime MaxTimeStep=TimeStep LimitStepForTL=yes TimeStepControl=2 TruncTol=7.0 ChargeTol=1.0e-14 IntegMethod=0 MaxGearOrder=2 \
Mu=0.5 MaxOrder=4 Freq[1]=1.0 GHz Order[1]=3 HB_Window=no \
HB_Sol=no ImpApprox=no ShortTL_Delay=1.0 psec ImpMode=1 UseInitCond=no \
LoadGminDC=no CheckKCL=yes CheckOnlyDeltaV=yes OverloadAlert=no DeviceBypass=no \
MaxIters=10 MaxItersDC=200 DevOpPtLevel=0 StatusLevel=2 OutputAllPoints=yes \
NoiseScale=1 ImpEnforcePassivity=yes ImpSkipTotalEnergy=1000 ImpLFEOn=yes \
OutputPlan="Tran1_Output" 

OutputPlan:Tran1_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"

#uselib "sml" , "VCO_DivideByN"
VCO_DivideByN:VCO  Vd 0 VCO_div VCO freq_VCO VCO_Freq=Kv * _v1 F0=f0 N=N Rout=50 Ohm Power=dbmtow(0) Delay=0 nsec 
V_Source:SRC1  N__0 0 Type="VtStep" V_Tran=pulse(time, Vref, Vref_fin, 10 usec, TimeStep) SaveCurrent=1 
C:C2  0 N__9 C=4 pF 
R:R3  Ve N__9 R=1 kOhm Noise=yes 
#uselib "sml" , "VSum"
VSum:SUM1  Vpd_filtered N__17 Ve 
V_Source:SRC3  N__17 0 Type="V_DC" Vdc=-Vdd/2 SaveCurrent=1 
